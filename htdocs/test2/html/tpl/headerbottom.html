<div class="bottom">
    <!-- меню -->
    <div id="pageContent" style="margin: 0px  auto">
        <main-menu :items="menuItems" :active="currentMenu"></main-menu>
        <!--
		<component v-show="activeSubMenu" :is="currentMenuComponent"></component>
		<component v-show="activePage" :is="currentPageComponent" class="page"></component>
		-->
    </div>
</div>
</div>
<!-- div для поисковика -->
<script>
    Vue.component("patch", {
        template: `<div class="col_title">
        <span class="bread" id="index_" onmousedown="goToLocation(this.id)">Главная</span>
        <span class="caption">О библиотеке</span>
    </div>
    <h1 align = "center">О библиотеке</h1>
    <div id="ask_container" >
		<div class="header"><center>Новости</center></div>
		<div class = "spacer h15x"></div>
	</div>`
    });
    Vue.component('main-menu', {
        props: ['items', 'active'],
        template: `<div class="grid_main_menu">
				  <div v-for="(item, index) in items" 
				  @click.stop="selectSubMenu(item.link)" 
				  :class="[{active: active === item.link}, 'menu'+index]"
				  >{{item.title}}</div>
				  </div>`,
        methods: {
            selectSubMenu: function(i) {
                goToLocation(i);
            },
        },
        /*
        computed: {
            currentPageComponent: function() {
                return "page-" + this.$root.currentMenu.toLowerCase();
            },
        },
        */
    });

    var menu = new Vue({
        el: '#pageContent',
        data: {
            activeSubMenu: false,
            activePage: false,
            //currentPage: 'patch',
            currentMenu: 'about',
            menuItems: [{
                title: 'О библиотеке',
                link: 'about'
            }, {
                title: 'Читателям',
                link: 'readers'
            }, {
                title: 'Коллегам',
                link: 'colleagues'
            }, {
                title: 'Спроси библиографа',
                link: 'ask'
            }]
        },
        methods: {
            /*
            	 currentPageName: function(p) {
            		this.currentPage = p? p : 'patch';
            		console.log(this.currentPage);
            	},
            */
        },
        computed: {
            currentMenuComponent: function() {
                return "tab-" + this.currentMenu.toLowerCase();
            },
        },
    });
</script>